{% props routePrefix, mainLinks %}

<aside class="w-64 bg-sidebarGray flex flex-col shrink-0 border-r border-gray-200/50">
    <div>
        <a
           href="{{ path(routePrefix ~'_dashboard') }}"
           aria-label="{{ siteTitle }}">
            <img src="{{ asset('assets/images/logo.png') }}" class="w-full" alt="{{ siteTitle }}"/>
        </a>
    </div>
    <nav class="flex-1 px-4 py-4 space-y-2">
        {% for link in mainLinks %}
            {% set isActive = app.request.attributes.get('_route') == link.route %}
            {% if is_granted(link.isGranted) %}
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl {{ isActive ? 'sidebar-item-active' : 'text-slate-500' }} hover:bg-white/50 transition-all "
                   href="{{ path(link.route, link.params) }}">
                    <twig:ux:icon name="{{ link.icon }}"/>
                    <span class="{{ isActive ? 'font-semibold' : 'font-medium' }}"> {{ link.label }}</span>
                </a>
            {% endif %}
        {% endfor %}
    </nav>


    {# AFAIRE: Component with dropdown #}
    <div class="p-6 mt-auto">
        <div class="bg-white rounded-xl p-3 flex items-center gap-3 shadow-sm border border-gray-100">
            <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-primary font-bold">F</div>
            <div class="flex flex-col min-w-0">
                <span class="text-sm font-semibold text-slate-900 truncate">Fred Admin</span>
                <span class="text-xs text-slate-400">Entreprise</span>
            </div>
        </div>
    </div>
</aside>
